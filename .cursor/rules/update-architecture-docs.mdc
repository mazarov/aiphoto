---
description: After implementing features, update architecture docs in docs/architecture/
alwaysApply: true
---

# Обновление архитектурной документации

## Правило

После реализации или изменения функционала — **обновить затронутые файлы** в `docs/architecture/`.

## Какой файл обновлять

| Что изменилось | Какой файл обновить |
|----------------|---------------------|
| Новый хендлер, состояние, кнопка | `01-api-bot.md` |
| Пайплайн генерации, rembg, Gemini | `02-worker.md` |
| AI-ассистент, tools, промпт | `03-ai-assistant.md` |
| Таблицы, колонки, enum, RPC | `04-database.md` |
| Оплата, пакеты, paywall | `05-payment.md` |
| Карусель стилей | `06-style-carousel.md` |
| Библиотеки (image, alerts, texts) | `07-libs.md` |
| Деплой, env vars, Docker | `08-deployment.md` |
| Новый workaround или баг | `09-known-issues.md` |
| Лендинг, UTM, deep links | `10-landing.md` |
| Архитектура, стек, новый сервис | `00-overview.md` |

## Что обновлять

- Добавить новые состояния/хендлеры/таблицы/колонки
- Обновить mermaid-диаграммы если изменился flow
- Добавить новые known issues если нашли баг с workaround
- Удалить устаревшую информацию

## Когда НЕ обновлять

- Мелкие багфиксы без изменения архитектуры
- Изменения только в текстах/переводах
- Косметические правки
